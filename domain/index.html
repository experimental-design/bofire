
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://experimental-design.github.io/bofire/domain/">
      
      
        <link rel="prev" href="../getting_started/">
      
      
        <link rel="next" href="../examples/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Advanced Domain Configuration - BoFire</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#domains" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="BoFire" class="md-header__button md-logo" aria-label="BoFire" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BoFire
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Advanced Domain Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/experimental-design/bofire" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    experimental-design/bofire
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="BoFire" class="md-nav__button md-logo" aria-label="BoFire" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    BoFire
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/experimental-design/bofire" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    experimental-design/bofire
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic terminology
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Advanced Domain Configuration
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Advanced Domain Configuration
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Inputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-types" class="md-nav__link">
    <span class="md-ellipsis">
      Input types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Input types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continuous-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Continuous inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discrete-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Discrete inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#categorical-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Categorical inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#molecular-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Molecular inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#categorical-descriptor-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Categorical descriptor inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#categorical-molecular-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Categorical molecular inputs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inputs-class" class="md-nav__link">
    <span class="md-ellipsis">
      Inputs class
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outputs" class="md-nav__link">
    <span class="md-ellipsis">
      Outputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Outputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objectives" class="md-nav__link">
    <span class="md-ellipsis">
      Objectives
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constraints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linear-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Linear constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-linear-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Non-linear constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#n-choose-k-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      N choose k constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interpoint-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Interpoint constraints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_models_functionals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Models vs Functional Components
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../userguide_surrogates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Surrogate Models
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ref-domain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Domain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ref-constraints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Constraints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ref-objectives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Objectives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ref-features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ref-utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="domains">Domains</h1>
<p>The BoFire domain contains all information about the optimization problem. In general, the domain is defined by <strong>inputs</strong>, <strong>outputs</strong>, <strong>objectives</strong> and <strong>constraints</strong>. Different types for each of these elements are implemented in the BoFire framework. A brief description of the usage of domains and the individual elements is given in the following.</p>
<p>A basic example of a domain consists of two continuous inputs <span class="arithmatex">\(x_1\)</span>, <span class="arithmatex">\(x_2\)</span> and a continuous output <span class="arithmatex">\(y\)</span>. If no objective is given, a maximization objective for the output is assumed. If no constraints are defined, an empty set of constraints is assumed.</p>
<p>A continuous input can be defined using the <code>ContinuousInput</code> class, which requires the variable name and its bounds. Please note that unbounded and partially bounded input variables are currently not supported. Here, we assume <span class="arithmatex">\(x_1, x_2 \in [0,1]\)</span>.
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.features.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">ContinuousInput</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.domain.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">Inputs</span>

<span class="n">inputs</span> <span class="o">=</span> <span class="n">Inputs</span><span class="p">(</span><span class="n">features</span><span class="o">=</span><span class="p">[</span>
    <span class="n">ContinuousInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]),</span>
    <span class="n">ContinuousInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
Analogously, the continuous output is defined using the <code>ContinuousOutput</code> class.
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.features.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">ContinuousOutput</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.domain.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">Outputs</span>

<span class="n">outputs</span> <span class="o">=</span> <span class="n">Outputs</span><span class="p">(</span><span class="n">features</span><span class="o">=</span><span class="p">[</span>
    <span class="n">ContinuousOutput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
In this case, the domain definition is as follows
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.domain.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">Domain</span>

<span class="n">domain</span> <span class="o">=</span> <span class="n">Domain</span><span class="p">(</span>
    <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
    <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span>
<span class="p">)</span>
</code></pre></div>
Domains can also be created more concisely using the <code>from_lists</code> method of the <code>Domain</code> class. This is especially useful if you want to define a domain without having to create separate lists for inputs and outputs. The following code achieves the same result as above:
<div class="highlight"><pre><span></span><code><span class="n">domain</span> <span class="o">=</span> <span class="n">Domain</span><span class="o">.</span><span class="n">from_lists</span><span class="p">(</span>
    <span class="n">inputs</span><span class="o">=</span><span class="p">[</span>
        <span class="n">ContinuousInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]),</span>
        <span class="n">ContinuousInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
    <span class="p">],</span>
    <span class="n">outputs</span><span class="o">=</span><span class="p">[</span>
        <span class="n">ContinuousOutput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
There are applications of domains, where no optimization of an objective is involved (e.g. randomly sampling from the design space). In such cases, we do not require to provide an output definition.</p>
<p>Let us now assume, we have an additional linear equality constraint and we want to use a custom objective, e.g. a minimization objective for <span class="arithmatex">\(y\)</span>. The linear constraint can be defined using the <code>LinearEqualityConstraint</code> class
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.constraints.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">LinearEqualityConstraint</span>

<span class="n">constraints</span> <span class="o">=</span> <span class="p">[</span><span class="n">LinearEqualityConstraint</span><span class="p">(</span><span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="s2">&quot;x2&quot;</span><span class="p">],</span> <span class="n">coefficients</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">rhs</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
</code></pre></div>
The code above corresponds to the linear equation</p>
<div class="arithmatex">\[
x_1 + x_2 = 1.
\]</div>
<p>In BoFire, the minimization objective can be selected by setting the objective-attribute of an output to an instance of <code>MinimizeObjective</code>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.objectives.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">MinimizeObjective</span>

<span class="n">outputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">ContinuousOutput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">objective</span><span class="o">=</span><span class="n">MinimizeObjective</span><span class="p">())]</span>
</code></pre></div>
The modified domain in this case becomes
<div class="highlight"><pre><span></span><code><span class="n">domain</span> <span class="o">=</span> <span class="n">Domain</span><span class="p">(</span>
    <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
    <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span>
    <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span>
<span class="p">)</span>
</code></pre></div></p>
<h2 id="inputs">Inputs</h2>
<p>BoFire allows for the following different user-facing input classes:</p>
<ul>
<li><code>ContinuousInput</code></li>
<li><code>DiscreteInput</code></li>
<li><code>CategoricalInput</code></li>
<li><code>MolecularInput</code></li>
<li><code>CategoricalDescriptorInput</code></li>
<li><code>CategoricalMolecularInput</code></li>
<li><code>TaskInput</code></li>
</ul>
<!-- - `ContinuousDescriptorInput` not used atm -->

<p>Each of these input classes can be used for defining domains, however some strategies only support a subset of the available input types. You can call the <code>is_feature_implemented()</code> function of a given strategy and input class to check whether the input is supported by the strategy. For example, the following code checks whether the <code>ContinuousInput</code> is supported by the <code>RandomSearch</code> strategy.</p>
<!-- link to strategy docu shall be added once it is there -->

<p><div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.strategies.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomStrategy</span>

<span class="n">RandomStrategy</span><span class="o">.</span><span class="n">is_feature_implemented</span><span class="p">(</span><span class="n">ContinuousInput</span><span class="p">)</span>
</code></pre></div>
The result will be <code>True</code> if the input type is supported by the strategy, otherwise it will return <code>False</code>. This is useful to check whether a certain input type can be used with a specific strategy before defining the domain.</p>
<h3 id="input-types">Input types</h3>
<h4 id="continuous-inputs">Continuous inputs</h4>
<p>Continuous inputs are used to define real-valued input variables with finite upper and lower bounds (see example above).</p>
<h4 id="discrete-inputs">Discrete inputs</h4>
<p>For discrete inputs, only a finite set of values is allowed. The <code>DiscreteInput</code> class requires a list of permissible values as input. For example, the following code defines a new discrete input variable <span class="arithmatex">\(x_3\)</span> with values <span class="arithmatex">\(0, 0.1, 0.2\)</span>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.features.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">DiscreteInput</span>

<span class="n">DiscreteInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x3&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
</code></pre></div>
<h4 id="categorical-inputs">Categorical inputs</h4>
<p>This class of inputs is similar to the discrete inputs, but takes a list of strings as input. The following code defines a new categorical input variable <span class="arithmatex">\(x_4\)</span> with categories "A", "B", "C".</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.features.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">CategoricalInput</span>

<span class="n">CategoricalInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x4&quot;</span><span class="p">,</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">])</span>
</code></pre></div>
<h4 id="molecular-inputs">Molecular inputs</h4>
<p>Molecular inputs are used to define molecular structures. This requires the optional cheminfo dependencies installed. The <code>MolecularInput</code> class operates on SMILES strings. For example, the following code defines a new molecular input variable <span class="arithmatex">\(x_5\)</span>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.features.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">MolecularInput</span>

<span class="n">MolecularInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x5&quot;</span><span class="p">)</span>
</code></pre></div>
<!-- #### Continuous descriptor inputs
 -->
<h4 id="categorical-descriptor-inputs">Categorical descriptor inputs</h4>
<p>Via the <code>CategoricalDescriptorInput</code> one can provide continuous encodings for the different categories via so called descriptors. Imagine, for example, having a categorial input with different categories, where each category corresponds to a specific material. Such descriptors could be e.g., density and hardness. Every material/category would get assigned a number for density and hardness in the hope that these two properties describe the material properly. In the context of fitting a GP, one can then use just these two dimensional vector for describing the material instead of a ten dimensional one-hot encoding, which results in a dimensionality reduction. Of course, this makes sense under the assumption that the descriptors actually correlate with the desired quantities.</p>
<p>The <code>CategoricalDescriptorInput</code> class requires a list of permissible values as input. For example, the following code defines a new categorical descriptor input variable <span class="arithmatex">\(x_6\)</span> with values "A", "B", "C".</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.features.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">CategoricalDescriptorInput</span>

<span class="n">CategoricalDescriptorInput</span><span class="p">(</span>
    <span class="n">key</span><span class="o">=</span><span class="s2">&quot;x6&quot;</span><span class="p">,</span>
    <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;material_A&quot;</span><span class="p">,</span> <span class="s2">&quot;material_B&quot;</span><span class="p">,</span> <span class="s2">&quot;material_C&quot;</span><span class="p">],</span>
    <span class="n">descriptors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="s2">&quot;hardness&quot;</span><span class="p">],</span>
    <span class="n">values</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]]</span>
<span class="p">)</span>
</code></pre></div>
<h4 id="categorical-molecular-inputs">Categorical molecular inputs</h4>
<p>Categorical molecular inputs inherit from both molecular and categorical inputs. In addition to the 'MolecularInput' the user can provide a list of allowed SMILES strings via the <code>categories</code> attribute. The following code defines a new categorical molecular input variable <span class="arithmatex">\(x_7\)</span> where only the values "C1CCCCC1", "O1CCOCC1" are allowed.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.features.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">CategoricalMolecularInput</span>

<span class="n">CategoricalMolecularInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x7&quot;</span><span class="p">,</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;C1CCCCC1&quot;</span><span class="p">,</span> <span class="s2">&quot;O1CCOCC1&quot;</span><span class="p">])</span>
</code></pre></div>
<!--#### Task inputs
 -->

<h3 id="inputs-class">Inputs class</h3>
<p>The <code>Inputs</code> class is used to collect multiple input variables. It is used to define the inputs of a domain. The following code defines a new input class with the above described input variables <span class="arithmatex">\(x_1, x_2, x_3, x_4, x_5, x_6, x_7\)</span>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">Inputs</span>

<span class="n">inputs</span> <span class="o">=</span> <span class="n">Inputs</span><span class="p">(</span>
    <span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="n">ContinuousInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]),</span>
    <span class="n">ContinuousInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]),</span>
    <span class="n">DiscreteInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x3&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]),</span>
    <span class="n">CategoricalInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x4&quot;</span><span class="p">,</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">]),</span>
    <span class="n">MolecularInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x5&quot;</span><span class="p">),</span>
    <span class="n">CategoricalDescriptorInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x6&quot;</span><span class="p">,</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;material_A&quot;</span><span class="p">,</span> <span class="s2">&quot;material_B&quot;</span><span class="p">,</span> <span class="s2">&quot;material_C&quot;</span><span class="p">],</span> <span class="n">descriptors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="s2">&quot;hardness&quot;</span><span class="p">],</span> <span class="n">values</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]]),</span>
    <span class="n">CategoricalMolecularInput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;x7&quot;</span><span class="p">,</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;C1CCCCC1&quot;</span><span class="p">,</span> <span class="s2">&quot;O1CCOCC1&quot;</span><span class="p">])])</span>
</code></pre></div>
<h2 id="outputs">Outputs</h2>
<p>At the moment only continuous and categorical outputs are supported. Those are similar to the continuous and categorical inputs, but they additionaly contain the <code>objective</code> attribute. The <code>objective</code> attribute is used to define the optimization objective for the output variable. Similar to the inputs the outputs can be also collected in an <code>Outputs</code> object. An example with a continuous and a categorical output is given below.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">Outputs</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.objectives.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConstrainedCategoricalObjective</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.features.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">ContinuousOutput</span><span class="p">,</span> <span class="n">CategoricalOutput</span>

<span class="n">outputs</span> <span class="o">=</span> <span class="n">Outputs</span><span class="p">(</span>
    <span class="n">features</span><span class="o">=</span><span class="p">[</span>
        <span class="n">ContinuousOutput</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="n">objective</span><span class="o">=</span><span class="n">MinimizeObjective</span><span class="p">()),</span>
        <span class="n">CategoricalOutput</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span>
            <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">],</span>  <span class="c1"># Add the required categories</span>
            <span class="n">objective</span><span class="o">=</span><span class="n">ConstrainedCategoricalObjective</span><span class="p">(</span>
                <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">],</span>
                <span class="n">desirability</span><span class="o">=</span><span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="objectives">Objectives</h3>
<p>Different classes for the objectives are implemented in BoFire. These are used to set the <code>objective</code> attribute of an output object. Note that each output variable can have its own objective. The following objectives are available:</p>
<ul>
<li><code>MaximizeObjective</code>: This is the class of the default value. The objective is to maximize the output variable(s).</li>
<li><code>MinimizeObjective</code>: The objective is to minimize the output variable(s). Note that minimization objectives can be transformed into maximization objectives and vice versa just by multiplying the corresponding output by -1.</li>
<li><code>MaximizeSigmoidObjective</code>: The objective is to maximize the output variable(s) using a sigmoid transformation. This is useful to implement bounds on the output variable(s).</li>
<li><code>MinimizeSigmoidObjective</code>: Similar to <code>MaximizeSigmoidObjective</code>, but the objective is to minimize the output variable(s).</li>
<li><code>TargetObjective</code>: The objective is to reach a target value for the output variable(s). <code>TargetObjective</code> is of type <code>ConstrainedObjective</code> as <code>MaximizeSigmoidObjective</code> or <code>MinimizeSigmoidObjective</code>, i.e., it becomes one if the value is in the target region and falls asymptorically to zero outside that region. That means that once the target objective is met, e.g., objective value above target value in a <code>MaximizeSigmoidObjective</code> case, the optimization does not care about how close the objective value is compared to the target value.</li>
<li><code>CloseToTargetObjective</code>: This objective measures the difference to a target value. Such an objective is often meaningful to minimize in a multiobjective optimization, and thus be included in the pareto front. Note that also the objectives of type <code>ConstrainedObjective</code> can be used in multiobjective optimization, but for that at least two targets of type <code>MaximizeSigmoidObjective</code>,<code>MinimizeSigmoidObjective</code> or <code>TargetObjective</code> are needed. The main difference with respect to the <code>TargetObjective</code> is that here the goal is to stay as close as possible to the target value.</li>
<li><code>ConstrainedCategoricalObjective</code>: Categorical objective where for each output variable a probability vector for the categories is given.</li>
</ul>
<p>If many outputs are defined, then different weights can be attributed as optional argument <code>w</code>. More detailed descriptions for the individual objecrives can be found in the <a href="https://experimental-design.github.io/bofire/ref-objectives/">API documentation</a>.</p>
<h2 id="constraints">Constraints</h2>
<p>The optimization problem in BoFire can be solved subject to a variety of different constraint types in the input space. These constraints are currently categorized as linear, non-linear, n choose k and interpoint constraints.</p>
<h3 id="linear-constraints">Linear constraints</h3>
<p>Linear constraints are used to define linear equalities and inequalities.</p>
<p>Equalities can be defined using the <code>LinearEqualityConstraint</code> class. The <code>features</code> attribute is used to define the input variables, the <code>coefficients</code> attribute is used to define the coefficients of the linear equation and the <code>rhs</code> attribute is used to define the right-hand side of the equation.</p>
<p>Inequalities can be defined using the <code>LinearInequalityConstraint</code> class. The attributes are defined in the same way as for the <code>LinearEqualityConstraint</code> class.</p>
<p>The following code defines a new linear equality constraint <span class="arithmatex">\(x_1 + x_2 = 1\)</span> and an inequality constraint <span class="arithmatex">\(x_1 - x_3 \leq 1\)</span>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.constraints.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">LinearEqualityConstraint</span><span class="p">,</span> <span class="n">LinearInequalityConstraint</span>

<span class="n">constraints</span> <span class="o">=</span> <span class="p">[</span><span class="n">LinearEqualityConstraint</span><span class="p">(</span><span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="s2">&quot;x2&quot;</span><span class="p">],</span> <span class="n">coefficients</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">rhs</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
               <span class="n">LinearInequalityConstraint</span><span class="p">(</span><span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="s2">&quot;x3&quot;</span><span class="p">],</span> <span class="n">coefficients</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">rhs</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
</code></pre></div>
<p>Note that the variables in the <code>features</code> attribute used in the constraints must be previously defined as inputs in the domain, in order to have a well defined optimization problem.</p>
<h3 id="non-linear-constraints">Non-linear constraints</h3>
<p>Non-linear constraints can be used to define equalities and inequalities of the form:</p>
<div class="arithmatex">\[
c(\mathbf{x}) = 0 \quad \text{and} \quad c(\mathbf{x}) \leq 0,
\]</div>
<p>where <span class="arithmatex">\(c(\mathbf{x})\)</span> can be an any differentiable function of the inputs <strong>x</strong> represented by a string attribute <code>expression</code> that can be evaluated via the <code>eval()</code> method of pandas dataframe. If <code>sympy</code> is installed, the derivate expressions are automatically calculated from the <code>expression</code> attribute. Otherwise, the user can provide additional expressions for the derivatives using the <code>jacobian_expressions</code> attribute. The <code>features</code> attrribute should contain the names of the input variables used in the <code>expression</code> attribute.</p>
<p>The following code defines a new non-linear inequality constraint <span class="arithmatex">\(x1^2 + x2^2 - x3 \leq 0\)</span>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.constraints.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">NonlinearInequalityConstraint</span>

<span class="n">NonlinearInequalityConstraint</span><span class="p">(</span><span class="n">expression</span><span class="o">=</span><span class="s2">&quot;x1**2 + x2**2 - x3&quot;</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span><span class="s2">&quot;x3&quot;</span><span class="p">])</span>
</code></pre></div>
<h3 id="n-choose-k-constraints">N choose k constraints</h3>
<p>Given a list of N features and attributes <code>min_count</code>, <code>max_count</code>, the <code>NChooseKConstraint</code> class is used to define constraints that require a minimum and maximum number of features to be nonzero. Note that one can put min_count==max_count. The following code defines a new <code>NChooseKConstraint</code> that requires at least 2 and at most 3 features to be selected from the list ["x1", "x2", "x3", "x4"].</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.constraints.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">NChooseKConstraint</span>

<span class="n">NChooseKConstraint</span><span class="p">(</span><span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="s2">&quot;x3&quot;</span><span class="p">,</span> <span class="s2">&quot;x4&quot;</span><span class="p">],</span> <span class="n">min_count</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_count</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">none_also_valid</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<h3 id="interpoint-constraints">Interpoint constraints</h3>
<p>The <code>InterpointEqualityConstraint</code> forces that values of a certain feature of a set/batch of candidates should have the same value. The set is defined using the <code>multiplicity</code> attribute. The following code defines a new <code>InterpointEqualityConstraint</code> that forces the values of the feature "x1" to be the same for every 3 subsequent candidates.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bofire.data_models.constraints.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">InterpointEqualityConstraint</span>

<span class="n">InterpointEqualityConstraint</span><span class="p">(</span><span class="n">feature</span><span class="o">=</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="n">multiplicity</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["toc.integrate"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>